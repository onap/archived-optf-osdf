
[tox]
skipsdist=True
envlist = py3

[testenv]
distribute = False
commands =
    - cat /etc/hosts
    /bin/bash test/functest/scripts/start-simulators.sh
    coverage run --module pytest --junitxml xunit-results.xml
    coverage xml --omit=".tox/py3/*","test/*"
    coverage report -m --omit=".tox/py3/*","test/*"
    /bin/bash test/functest/scripts/stop-simulators.sh
    # TODO: need to update the above "omit" when we package osdf as pip-installable
deps = -r{toxinidir}/requirements.txt 
    -r{toxinidir}/test/test-requirements.txt

[run]
source=./osdf/,osdfapp.py

[testenv:py3]
basepython=python3.6
